<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡é‡‘èª¿é”ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¯”è¼ƒ | ROBOT PAYMENT</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg: #f5f7fb;
            --panel: #ffffff;
            --accent-blue: #2563eb;
            --accent-green: #22c55e;
            --accent-amber: #f59e0b;
            --text: #0f172a;
            --muted: #64748b;
            --card-radius: 16px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'SF Pro Display', 'Inter', 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }
        .container { max-width: 1600px; margin: 0 auto; padding: 32px 20px 44px; }
        
        /* Header */
        .header { text-align: center; margin-bottom: 32px; }
        .logo { font-size: 0.9rem; color: var(--muted); margin-bottom: 8px; letter-spacing: 2px; text-transform: uppercase; }
        .header h1 { font-size: 2.6rem; font-weight: 800; margin-bottom: 12px; color: #0f172a; }
        .header-sub { color: var(--muted); font-size: 0.95rem; }
        
        /* Tab Navigation */
        .tab-nav {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 26px;
            background: #e7eef7;
            padding: 8px;
            border-radius: 14px;
            border: 1px solid #d7deeb;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }
        .tab-btn {
            padding: 12px 22px;
            border: 1px solid transparent;
            background: transparent;
            color: #334155;
            font-size: 0.95rem;
            font-weight: 700;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tab-btn:hover { color: #0f172a; border-color: #cbd5e1; background: #f8fafc; }
        .tab-btn.active { background: #2563eb; border-color: #2563eb; color: #f8fafc; box-shadow: 0 10px 24px rgba(37, 99, 235, 0.2); }
        
        .tab-content { display: none; animation: fadeIn 0.5s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Product Detail Cards */
        .product-detail-section { margin-bottom: 48px; }
        
        .product-hero {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            background: #fff;
            border-radius: 20px;
            padding: 32px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }
        .product-hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
        }
        .product-hero.rbf::before { background: linear-gradient(90deg, #2563eb, #3b82f6); }
        .product-hero.early::before { background: linear-gradient(90deg, #16a34a, #22c55e); }
        .product-hero.factoring::before { background: linear-gradient(90deg, #d97706, #f59e0b); }
        
        .product-main { display: flex; flex-direction: column; gap: 20px; }
        .product-header { display: flex; align-items: center; gap: 16px; }
        .product-icon {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        .rbf .product-icon { background: linear-gradient(135deg, #1fa6e4, #1178c2); }
        .early .product-icon { background: linear-gradient(135deg, #3ad29f, #0d9d78); }
        .factoring .product-icon { background: linear-gradient(135deg, #f4b400, #d98900); }
        
        .product-title { font-size: 1.5rem; font-weight: 800; }
        .product-subtitle { color: #64748b; font-size: 0.9rem; margin-top: 4px; }
        
        .product-description { color: #475569; font-size: 0.95rem; line-height: 1.7; }
        
        .product-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }
        .stat-box {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        .stat-value { font-size: 1.8rem; font-weight: 800; margin-bottom: 4px; }
        .rbf .stat-value { color: #2563eb; }
        .early .stat-value { color: #16a34a; }
        .factoring .stat-value { color: #d97706; }
        .stat-label { font-size: 0.8rem; color: #64748b; }
        
        /* Feature Lists */
        .product-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        .feature-card {
            background: #fff;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 6px 16px rgba(15, 23, 42, 0.06);
        }
        .feature-card h4 {
            font-size: 1rem;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .feature-list { list-style: none; }
        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-size: 0.9rem;
        }
        .feature-list li:last-child { border-bottom: none; }
        .feature-list .icon { font-size: 1rem; flex-shrink: 0; }
        .feature-list .check { color: #22c55e; }
        .feature-list .cross { color: #ef4444; }
        .feature-list .info { color: #3b82f6; }
        
        /* Comparison Table */
        .comparison-table {
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid #e2e8f0;
            box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
            margin-bottom: 32px;
        }
        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }
        .comparison-table th, .comparison-table td {
            padding: 16px 20px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        .comparison-table th {
            background: #f8fafc;
            font-weight: 700;
            font-size: 0.85rem;
            color: #64748b;
        }
        .comparison-table th:first-child { width: 200px; }
        .comparison-table td { font-size: 0.9rem; }
        .comparison-table tr:last-child td { border-bottom: none; }
        .comparison-table .product-col { font-weight: 700; text-align: center; }
        .comparison-table .rbf-col { background: rgba(37, 99, 235, 0.05); color: #2563eb; }
        .comparison-table .early-col { background: rgba(22, 163, 74, 0.05); color: #16a34a; }
        .comparison-table .factoring-col { background: rgba(217, 119, 6, 0.05); color: #d97706; }
        
        /* Charts Section */
        .charts-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; margin-bottom: 40px; }
        .chart-card {
            background: #fff;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
        }
        .chart-card h3 { font-size: 1.1rem; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .chart-wrapper { height: 280px; position: relative; }
        
        /* Simulation Tab */
        .sim-container { display: grid; grid-template-columns: 350px 1fr; gap: 30px; }
        .model-note {
            background: #e7eef7;
            border: 1px solid #d7deeb;
            border-radius: 12px;
            padding: 14px 16px;
            color: #0f172a;
            font-size: 0.95rem;
            margin-bottom: 14px;
        }
        .sim-panel {
            background: var(--panel);
            border-radius: 20px;
            padding: 28px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
        }
        .sim-panel h3 { font-size: 1.2rem; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .input-group { margin-bottom: 24px; }
        .input-group label { display: block; color: #64748b; font-size: 0.85rem; margin-bottom: 10px; }
        .input-group input[type="number"], .input-group input[type="range"] { width: 100%; }
        .input-group input[type="number"] {
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            background: #fff;
            color: #0f172a;
            font-size: 1.2rem;
            font-weight: 600;
        }
        .input-group input[type="number"]:focus { outline: none; border-color: #3b82f6; }
        .input-group input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-top: 10px;
        }
        .input-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 50%;
            cursor: pointer;
        }
        .range-labels { display: flex; justify-content: space-between; font-size: 0.75rem; color: #64748b; margin-top: 8px; }
        
        .result-cards-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
        .result-card {
            background: #fff;
            border-radius: 16px;
            padding: 24px;
            position: relative;
            overflow: hidden;
            border: 1px solid #e2e8f0;
            box-shadow: 0 12px 28px rgba(15, 23, 42, 0.08);
        }
        .result-card.best { border-color: #34d399; border-width: 2px; }
        .result-card.best::after {
            content: "BEST";
            position: absolute;
            top: 16px;
            right: -30px;
            background: #10b981;
            color: #fff;
            font-size: 0.7rem;
            font-weight: 700;
            padding: 4px 40px;
            transform: rotate(45deg);
        }
        
        .card-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 16px;
        }
        .rbf-badge { background: rgba(59, 130, 246, 0.1); color: #2563eb; }
        .early-badge { background: rgba(34, 197, 94, 0.1); color: #16a34a; }
        .factoring-badge { background: rgba(245, 158, 11, 0.1); color: #d97706; }
        
        .param-section {
            background: #f8fafc;
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
        }
        .param-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 0;
        }
        .param-row:not(:last-child) { border-bottom: 1px dashed #e2e8f0; }
        .param-label { font-size: 0.8rem; color: #64748b; }
        .param-value { font-size: 0.95rem; font-weight: 700; color: #0f172a; }
        
        .result-main { text-align: center; padding: 16px 0; }
        .result-amount { font-size: 2.4rem; font-weight: 800; margin-bottom: 4px; }
        .result-card.rbf-card .result-amount { color: #3b82f6; }
        .result-card.early-card .result-amount { color: #22c55e; }
        .result-card.factoring-card .result-amount { color: #f59e0b; }
        .result-detail { font-size: 0.85rem; color: #64748b; }
        
        .result-breakdown { margin-top: 16px; padding-top: 16px; border-top: 1px solid #e2e8f0; }
        .breakdown-row { display: flex; justify-content: space-between; font-size: 0.85rem; padding: 8px 0; }
        .breakdown-row .label { color: #64748b; }
        .breakdown-row.highlight { background: #f0fdf4; margin: 0 -24px; padding: 10px 24px; border-radius: 0; }
        .rbf-card .breakdown-row.highlight { background: rgba(59, 130, 246, 0.05); }
        .early-card .breakdown-row.highlight { background: rgba(34, 197, 94, 0.05); }
        .factoring-card .breakdown-row.highlight { background: rgba(245, 158, 11, 0.05); }
        
        .sim-charts { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
        .sim-chart-card {
            background: #fff;
            border-radius: 16px;
            padding: 22px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
        }
        .sim-chart-card h4 { font-size: 1rem; margin-bottom: 16px; }
        
        /* Timeline Tab */
        .timeline-container {
            background: #fff;
            border-radius: 20px;
            padding: 32px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
            margin-bottom: 32px;
        }
        .timeline-title { font-size: 1.3rem; font-weight: 700; margin-bottom: 24px; display: flex; align-items: center; gap: 12px; }
        .timeline-header { display: grid; margin-bottom: 16px; background: #f8fafc; border-radius: 12px; overflow: hidden; }
        .timeline-header .month {
            text-align: center;
            padding: 14px 8px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #64748b;
            border-right: 1px solid #e2e8f0;
        }
        .timeline-row {
            display: grid;
            margin-bottom: 12px;
            background: #fafbfc;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }
        .timeline-label {
            padding: 20px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
            background: #fff;
            border-right: 1px solid #e2e8f0;
        }
        .timeline-label .dot { width: 12px; height: 12px; border-radius: 50%; }
        .timeline-label.rbf .dot { background: #3b82f6; }
        .timeline-label.early .dot { background: #10b981; }
        .timeline-label.factoring .dot { background: #f59e0b; }
        .timeline-cell { padding: 12px 6px; display: flex; align-items: center; justify-content: center; }
        .timeline-bar {
            width: 100%;
            height: 44px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
            color: #fff;
            text-align: center;
            line-height: 1.2;
        }
        .timeline-bar.rbf-bar { background: linear-gradient(135deg, #3b82f6, #60a5fa); }
        .timeline-bar.early-bar { background: linear-gradient(135deg, #10b981, #34d399); }
        .timeline-bar.factoring-bar { background: linear-gradient(135deg, #f59e0b, #fbbf24); }
        .timeline-bar.empty { background: #f1f5f9; color: #94a3b8; }
        
        .summary-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 32px; }
        .summary-card {
            background: #fff;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 8px 20px rgba(15, 23, 42, 0.06);
        }
        .summary-card h4 { font-size: 0.9rem; color: #64748b; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .summary-value { font-size: 1.8rem; font-weight: 800; margin-bottom: 4px; }
        .summary-card.rbf .summary-value { color: #3b82f6; }
        .summary-card.early .summary-value { color: #10b981; }
        .summary-card.factoring .summary-value { color: #f59e0b; }
        .summary-sub { font-size: 0.85rem; color: #94a3b8; }
        
        .footer { text-align: center; padding: 40px; color: #64748b; font-size: 0.85rem; }
        
        @media (max-width: 1200px) {
            .product-hero, .sim-container { grid-template-columns: 1fr; }
            .product-features, .charts-grid, .sim-charts, .result-cards-grid, .summary-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ROBOT PAYMENT</div>
            <h1>è³‡é‡‘èª¿é”ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¯”è¼ƒ</h1>
            <div class="header-sub">è²¸ä¸»è¦–ç‚¹ã§ã®åç›Šæ¯”è¼ƒã€‚æä¾›é¡1,000ä¸‡å††å›ºå®šã€‚</div>
        </div>
        
        <div class="tab-nav">
            <button class="tab-btn active" onclick="showTab('simulation')">ğŸ§® ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</button>
            <button class="tab-btn" onclick="showTab('products')">ğŸ“Š å•†å“è©³ç´°</button>
            <button class="tab-btn" onclick="showTab('timeline')">ğŸ“… å›åã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</button>
        </div>
        
        <!-- Products Tab - Enhanced -->
        <div id="products" class="tab-content">
            
            <!-- RBF Detail -->
            <div class="product-detail-section">
                <div class="product-hero rbf">
                    <div class="product-main">
                        <div class="product-header">
                            <div class="product-icon">ğŸ“ˆ</div>
                            <div>
                                <div class="product-title">Robot Payment RBF</div>
                                <div class="product-subtitle">Revenue Based Financing</div>
                            </div>
                        </div>
                        <p class="product-description">
                            å°†æ¥ã®å£²ä¸Šã‚’æ‹…ä¿ã«è³‡é‡‘ã‚’æä¾›ã—ã€å£²ä¸Šé€£å‹•ã§å›åã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹å•†å“ã€‚
                            AIä¸ä¿¡ã«ã‚ˆã‚Šå¯©æŸ»ã‚’é«˜é€ŸåŒ–ã—ã€æœ€çŸ­å½“æ—¥ã§ã®è³‡é‡‘æä¾›ãŒå¯èƒ½ã€‚
                            å›åã¯æ¯æœˆã®å£²ä¸Šã‹ã‚‰ä¸€å®šå‰²åˆã‚’è‡ªå‹•ã§è¡Œã†ãŸã‚ã€å®‰å®šã—ãŸå›åãŒè¦‹è¾¼ã‚ã‚‹ã€‚
                        </p>
                        <div class="product-stats">
                            <div class="stat-box">
                                <div class="stat-value">8-12%</div>
                                <div class="stat-label">æ‰‹æ•°æ–™ç‡</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">æœ€çŸ­å½“æ—¥</div>
                                <div class="stat-label">æä¾›ã‚¹ãƒ”ãƒ¼ãƒ‰</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">3-12ãƒ¶æœˆ</div>
                                <div class="stat-label">å›åæœŸé–“</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">æœˆå•†1-3å€</div>
                                <div class="stat-label">æä¾›ä¸Šé™</div>
                            </div>
                        </div>
                    </div>
                    <div class="product-stats" style="display: flex; flex-direction: column; gap: 16px;">
                        <div class="stat-box" style="flex:1;">
                            <div class="stat-label" style="margin-bottom: 12px;">å¯¾è±¡ä¼æ¥­</div>
                            <p style="font-size: 0.9rem; color: #475569; text-align: left;">
                                ãƒ»SaaS/ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³äº‹æ¥­<br>
                                ãƒ»ECäº‹æ¥­ï¼ˆå®‰å®šã—ãŸå£²ä¸Šï¼‰<br>
                                ãƒ»æœˆæ¬¡å£²ä¸Š1,000ä¸‡å††ä»¥ä¸Š<br>
                                ãƒ»RPåˆ©ç”¨æ­´6ãƒ¶æœˆä»¥ä¸Š
                            </p>
                        </div>
                        <div class="stat-box" style="flex:1;">
                            <div class="stat-label" style="margin-bottom: 12px;">å›åã®ä»•çµ„ã¿</div>
                            <p style="font-size: 0.9rem; color: #475569; text-align: left;">
                                ãƒ»å£²ä¸Šã®10-20%ã‚’æ¯æœˆè‡ªå‹•å›å<br>
                                ãƒ»å£²ä¸Šé€£å‹•ã§å›åé¡ãŒå¤‰å‹•<br>
                                ãƒ»å…ƒæœ¬ï¼‹æ‰‹æ•°æ–™ã®å…¨é¡å›åã¾ã§ç¶™ç¶š
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="product-features">
                    <div class="feature-card">
                        <h4>âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                        <ul class="feature-list">
                            <li><span class="icon check">âœ“</span>å£²ä¸Šé€£å‹•ã§å®‰å®šå›å</li>
                            <li><span class="icon check">âœ“</span>AIä¸ä¿¡ã§å¯©æŸ»é«˜é€ŸåŒ–</li>
                            <li><span class="icon check">âœ“</span>æ‹…ä¿ãƒ»ä¿è¨¼äººä¸è¦</li>
                            <li><span class="icon check">âœ“</span>ãƒªãƒ”ãƒ¼ãƒˆåˆ©ç”¨ã§åç›Šç¶™ç¶š</li>
                            <li><span class="icon check">âœ“</span>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªã‚¹ã‚¯åˆ†æ•£</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>âš ï¸ ãƒªã‚¹ã‚¯è¦å› </h4>
                        <ul class="feature-list">
                            <li><span class="icon cross">!</span>å£²ä¸Šæ¸›å°‘æ™‚ã®å›åé•·æœŸåŒ–</li>
                            <li><span class="icon cross">!</span>äº‹æ¥­æ’¤é€€æ™‚ã®å›åå›°é›£</li>
                            <li><span class="icon cross">!</span>å­£ç¯€å¤‰å‹•ã®å¤§ãã„äº‹æ¥­</li>
                            <li><span class="icon cross">!</span>æ–°è¦äº‹æ¥­ãƒ»å®Ÿç¸¾ä¸è¶³</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸ“‹ å¯©æŸ»ãƒã‚¤ãƒ³ãƒˆ</h4>
                        <ul class="feature-list">
                            <li><span class="icon info">â†’</span>éå»12ãƒ¶æœˆã®å£²ä¸Šæ¨ç§»</li>
                            <li><span class="icon info">â†’</span>æœˆæ¬¡å£²ä¸Šã®å®‰å®šæ€§</li>
                            <li><span class="icon info">â†’</span>RPåˆ©ç”¨å±¥æ­´ãƒ»æ±ºæ¸ˆãƒ‡ãƒ¼ã‚¿</li>
                            <li><span class="icon info">â†’</span>æ¥­ç¨®ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«</li>
                            <li><span class="icon info">â†’</span>æ—¢å­˜å€Ÿå…¥çŠ¶æ³</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- æ—©æœŸæ‰•ã„ Detail -->
            <div class="product-detail-section">
                <div class="product-hero early">
                    <div class="product-main">
                        <div class="product-header">
                            <div class="product-icon">âš¡</div>
                            <div>
                                <div class="product-title">æ—©æœŸæ‰•ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³</div>
                                <div class="product-subtitle">Early Settlement Option</div>
                            </div>
                        </div>
                        <p class="product-description">
                            ã‚µãƒ–ã‚¹ã‚¯ãƒšã‚¤åŠ ç›Ÿåº—ã®ã‚«ãƒ¼ãƒ‰å£²ä¸Šã‚’å³æ—¥æ‰•ã„ï¼ˆã‚¼ãƒ­ã‚µã‚¤ãƒˆï¼‰ã§æä¾›ã—ã€ç¿Œæœˆã®ã‚«ãƒ¼ãƒ‰ç²¾ç®—æ™‚ã«å›åã€‚
                            ä¸Šä¹—ã›æ‰‹æ•°æ–™ã¨ã—ã¦å£²ä¸Šã®0.5-2%ã‚’ç²å¾—ã€‚ç«‹æ›¿ä¸è¦ãƒ»çŸ­æœŸå›åãƒ»ä½ãƒªã‚¹ã‚¯ã§å®‰å®šã—ãŸåç›ŠãŒè¦‹è¾¼ã‚ã‚‹ã€‚
                        </p>
                        <div class="product-stats">
                            <div class="stat-box">
                                <div class="stat-value">0.5-2%</div>
                                <div class="stat-label">ä¸Šä¹—ã›æ‰‹æ•°æ–™</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">å³æ—¥â†’ç¿Œæœˆ</div>
                                <div class="stat-label">å›åã‚µã‚¤ã‚¯ãƒ«</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">æ¯æœˆ</div>
                                <div class="stat-label">åç›Šç™ºç”Ÿ</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">ã‚«ãƒ¼ãƒ‰å£²ä¸Š</div>
                                <div class="stat-label">å¯¾è±¡é‡‘é¡</div>
                            </div>
                        </div>
                    </div>
                    <div class="product-stats" style="display: flex; flex-direction: column; gap: 16px;">
                        <div class="stat-box" style="flex:1;">
                            <div class="stat-label" style="margin-bottom: 12px;">å¯¾è±¡ä¼æ¥­</div>
                            <p style="font-size: 0.9rem; color: #475569; text-align: left;">
                                ãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒšã‚¤åˆ©ç”¨ä¸­ã®åŠ ç›Ÿåº—<br>
                                ãƒ»ã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆæ¯”ç‡ãŒé«˜ã„äº‹æ¥­<br>
                                ãƒ»æœˆæ¬¡ã‚«ãƒ¼ãƒ‰å£²ä¸Š500ä¸‡å††ä»¥ä¸Š<br>
                                ãƒ»å®‰å®šã—ãŸæ±ºæ¸ˆå®Ÿç¸¾
                            </p>
                        </div>
                        <div class="stat-box" style="flex:1;">
                            <div class="stat-label" style="margin-bottom: 12px;">å›åã®ä»•çµ„ã¿</div>
                            <p style="font-size: 0.9rem; color: #475569; text-align: left;">
                                ãƒ»ã‚«ãƒ¼ãƒ‰å£²ä¸Šã‚’å³æ—¥æ‰•ã„ï¼ˆã‚¼ãƒ­ã‚µã‚¤ãƒˆï¼‰<br>
                                ãƒ»ç«‹æ›¿ãªã—ï¼šç¿Œæœˆã‚«ãƒ¼ãƒ‰ç²¾ç®—æ™‚ã«å›å<br>
                                ãƒ»ã‚«ãƒ¼ãƒ‰ä¼šç¤¾çµŒç”±ã§ç¢ºå®Ÿã«å›å
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="product-features">
                    <div class="feature-card">
                        <h4>âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                        <ul class="feature-list">
                            <li><span class="icon check">âœ“</span>ç¿Œæœˆã‚«ãƒ¼ãƒ‰ç²¾ç®—ã§ç¢ºå®Ÿå›å</li>
                            <li><span class="icon check">âœ“</span>ç«‹æ›¿ä¸è¦ï¼ˆã‚¼ãƒ­ã‚µã‚¤ãƒˆæ‰•ã„ï¼‰</li>
                            <li><span class="icon check">âœ“</span>æ¯æœˆå®‰å®šã—ãŸåç›Š</li>
                            <li><span class="icon check">âœ“</span>å¯©æŸ»ä¸è¦ï¼ˆæ—¢å­˜åŠ ç›Ÿåº—ï¼‰</li>
                            <li><span class="icon check">âœ“</span>ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è‡ªå‹•åŒ–</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>âš ï¸ ãƒªã‚¹ã‚¯è¦å› </h4>
                        <ul class="feature-list">
                            <li><span class="icon cross">!</span>ãƒãƒ£ãƒ¼ã‚¸ãƒãƒƒã‚¯ç™ºç”Ÿ</li>
                            <li><span class="icon cross">!</span>ã‚«ãƒ¼ãƒ‰ä¼šç¤¾ã®ç²¾ç®—é…å»¶</li>
                            <li><span class="icon cross">!</span>åŠ ç›Ÿåº—ã®ä¸æ­£åˆ©ç”¨</li>
                            <li><span class="icon cross">!</span>è§£ç´„ãƒ»ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸ“‹ é©ç”¨æ¡ä»¶</h4>
                        <ul class="feature-list">
                            <li><span class="icon info">â†’</span>ã‚µãƒ–ã‚¹ã‚¯ãƒšã‚¤å¥‘ç´„ä¸­</li>
                            <li><span class="icon info">â†’</span>6ãƒ¶æœˆä»¥ä¸Šã®åˆ©ç”¨å®Ÿç¸¾</li>
                            <li><span class="icon info">â†’</span>ãƒãƒ£ãƒ¼ã‚¸ãƒãƒƒã‚¯ç‡1%æœªæº€</li>
                            <li><span class="icon info">â†’</span>æœˆé–“æ±ºæ¸ˆé¡ã®å®‰å®šæ€§</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° Detail -->
            <div class="product-detail-section">
                <div class="product-hero factoring">
                    <div class="product-main">
                        <div class="product-header">
                            <div class="product-icon">ğŸ¦</div>
                            <div>
                                <div class="product-title">ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</div>
                                <div class="product-subtitle">Accounts Receivable Factoring</div>
                            </div>
                        </div>
                        <p class="product-description">
                            ä¼æ¥­ã®å£²æ›å‚µæ¨©ã‚’è²·ã„å–ã‚Šã€æ‰‹æ•°æ–™ã‚’æ§é™¤ã—ãŸé‡‘é¡ã‚’æ”¯æ‰•ã†ã€‚
                            å£²æ›å…ˆï¼ˆå–å¼•å…ˆï¼‰ã®ä¿¡ç”¨åŠ›ã‚’å¯©æŸ»ã™ã‚‹ãŸã‚ã€é«˜æ‰‹æ•°æ–™ãªãŒã‚‰å¹…åºƒã„ä¼æ¥­ã«å¯¾å¿œå¯èƒ½ã€‚
                            BtoBå–å¼•ãŒãƒ¡ã‚¤ãƒ³ã®ä¼æ¥­ã«é©ã—ãŸãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹å•†å“ã€‚
                        </p>
                        <div class="product-stats">
                            <div class="stat-box">
                                <div class="stat-value">2-18%</div>
                                <div class="stat-label">æ‰‹æ•°æ–™ç‡</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">2-4å–¶æ¥­æ—¥</div>
                                <div class="stat-label">æ”¯æ‰•ã‚¹ãƒ”ãƒ¼ãƒ‰</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">1-3ãƒ¶æœˆ</div>
                                <div class="stat-label">å›åã‚µã‚¤ãƒˆ</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">å£²æ›é‡‘é¡</div>
                                <div class="stat-label">è²·å–ä¸Šé™</div>
                            </div>
                        </div>
                    </div>
                    <div class="product-stats" style="display: flex; flex-direction: column; gap: 16px;">
                        <div class="stat-box" style="flex:1;">
                            <div class="stat-label" style="margin-bottom: 12px;">å¯¾è±¡ä¼æ¥­</div>
                            <p style="font-size: 0.9rem; color: #475569; text-align: left;">
                                ãƒ»BtoBå–å¼•ãŒãƒ¡ã‚¤ãƒ³<br>
                                ãƒ»å£²æ›å…ˆãŒå¤§æ‰‹ãƒ»å„ªè‰¯ä¼æ¥­<br>
                                ãƒ»å›åã‚µã‚¤ãƒˆãŒé•·ã„ï¼ˆ60-90æ—¥ï¼‰<br>
                                ãƒ»éŠ€è¡Œèè³‡ãŒé›£ã—ã„ä¼æ¥­
                            </p>
                        </div>
                        <div class="stat-box" style="flex:1;">
                            <div class="stat-label" style="margin-bottom: 12px;">å›åã®ä»•çµ„ã¿</div>
                            <p style="font-size: 0.9rem; color: #475569; text-align: left;">
                                ãƒ»å£²æ›å‚µæ¨©ã‚’è²·å–ï¼ˆæ‰‹æ•°æ–™æ§é™¤ï¼‰<br>
                                ãƒ»å–å¼•å…ˆã‹ã‚‰ç›´æ¥å›åï¼ˆ3ç¤¾é–“ï¼‰<br>
                                ãƒ»ã¾ãŸã¯åŠ ç›Ÿåº—çµŒç”±ã§å›åï¼ˆ2ç¤¾é–“ï¼‰
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="product-features">
                    <div class="feature-card">
                        <h4>âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                        <ul class="feature-list">
                            <li><span class="icon check">âœ“</span>é«˜æ‰‹æ•°æ–™ã§åç›Šå¤§</li>
                            <li><span class="icon check">âœ“</span>å£²æ›å…ˆã®ä¿¡ç”¨åŠ›ã§åˆ¤æ–­</li>
                            <li><span class="icon check">âœ“</span>å¹…åºƒã„ä¼æ¥­ã«å¯¾å¿œ</li>
                            <li><span class="icon check">âœ“</span>ã‚ªãƒ•ãƒãƒ©ãƒ³ã‚¹éœ€è¦ã‚ã‚Š</li>
                            <li><span class="icon check">âœ“</span>å¤§å£æ¡ˆä»¶ã®æ©Ÿä¼š</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>âš ï¸ ãƒªã‚¹ã‚¯è¦å› </h4>
                        <ul class="feature-list">
                            <li><span class="icon cross">!</span>å£²æ›å…ˆã®å€’ç”£ãƒ»é…å»¶</li>
                            <li><span class="icon cross">!</span>äºŒé‡è­²æ¸¡ã®ãƒªã‚¹ã‚¯</li>
                            <li><span class="icon cross">!</span>æ¶ç©ºå£²æ›é‡‘ã®è©æ¬º</li>
                            <li><span class="icon cross">!</span>å–å¼•å…ˆã¸ã®é€šçŸ¥å•é¡Œ</li>
                            <li><span class="icon cross">!</span>å›åã‚µã‚¤ãƒˆã®é•·æœŸåŒ–</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸ“‹ å¯©æŸ»ãƒã‚¤ãƒ³ãƒˆ</h4>
                        <ul class="feature-list">
                            <li><span class="icon info">â†’</span>å£²æ›å…ˆã®ä¿¡ç”¨åŠ›ãƒ»è¦æ¨¡</li>
                            <li><span class="icon info">â†’</span>å–å¼•å®Ÿç¸¾ãƒ»ç¶™ç¶šæ€§</li>
                            <li><span class="icon info">â†’</span>è«‹æ±‚æ›¸ãƒ»å¥‘ç´„æ›¸ã®ç¢ºèª</li>
                            <li><span class="icon info">â†’</span>å›åã‚µã‚¤ãƒˆã®å¦¥å½“æ€§</li>
                            <li><span class="icon info">â†’</span>å‚µæ¨©ã®äºŒé‡è­²æ¸¡ç¢ºèª</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Comparison Table -->
            <div class=\"comparison-table\">
                <table>
                    <thead>
                        <tr>
                            <th>æ¯”è¼ƒé …ç›®</th>
                            <th class="product-col rbf-col">RBF</th>
                            <th class="product-col early-col">æ—©æœŸæ‰•ã„</th>
                            <th class="product-col factoring-col">ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>æ‰‹æ•°æ–™ç‡</strong></td>
                            <td style="text-align:center;">8-12%</td>
                            <td style="text-align:center;">0.5-2%</td>
                            <td style="text-align:center;">2-18%</td>
                        </tr>
                        <tr>
                            <td><strong>å›åæœŸé–“</strong></td>
                            <td style="text-align:center;">3-12ãƒ¶æœˆ</td>
                            <td style="text-align:center;">ç¿Œæœˆï¼ˆå³æ—¥æ‰•ã„ï¼‰</td>
                            <td style="text-align:center;">1-3ãƒ¶æœˆ</td>
                        </tr>
                        <tr>
                            <td><strong>å›åç¢ºå®Ÿæ€§</strong></td>
                            <td style="text-align:center;">ä¸­ï¼ˆå£²ä¸Šé€£å‹•ï¼‰</td>
                            <td style="text-align:center;">é«˜ï¼ˆã‚«ãƒ¼ãƒ‰ç²¾ç®—ï¼‰</td>
                            <td style="text-align:center;">ä¸­ï¼ˆå£²æ›å…ˆä¾å­˜ï¼‰</td>
                        </tr>
                        <tr>
                            <td><strong>å¯©æŸ»ã‚¹ãƒ”ãƒ¼ãƒ‰</strong></td>
                            <td style="text-align:center;">å³æ—¥ã€œ2æ—¥</td>
                            <td style="text-align:center;">ä¸è¦</td>
                            <td style="text-align:center;">å³æ—¥ã€œ2æ—¥</td>
                        </tr>
                        <tr>
                            <td><strong>ãƒªãƒ”ãƒ¼ãƒˆæ€§</strong></td>
                            <td style="text-align:center;">é«˜</td>
                            <td style="text-align:center;">æ¯æœˆè‡ªå‹•</td>
                            <td style="text-align:center;">ä¸­</td>
                        </tr>
                        <tr>
                            <td><strong>ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</strong></td>
                            <td style="text-align:center;">è‡ªå‹•åŒ–å¯èƒ½</td>
                            <td style="text-align:center;">å®Œå…¨è‡ªå‹•</td>
                            <td style="text-align:center;">å€‹åˆ¥å¯¾å¿œ</td>
                        </tr>
                        <tr>
                            <td><strong>ä¸»ãªãƒªã‚¹ã‚¯</strong></td>
                            <td style="text-align:center;">å£²ä¸Šæ¸›å°‘</td>
                            <td style="text-align:center;">ãƒãƒ£ãƒ¼ã‚¸ãƒãƒƒã‚¯</td>
                            <td style="text-align:center;">å£²æ›å…ˆå€’ç”£</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h3>ğŸ“Š æ‰‹æ•°æ–™ãƒ¬ãƒ³ã‚¸æ¯”è¼ƒ</h3>
                    <div class="chart-wrapper">
                        <canvas id="feeComparisonChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h3>â±ï¸ å›åæœŸé–“æ¯”è¼ƒ</h3>
                    <div class="chart-wrapper">
                        <canvas id="periodChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Simulation Tab -->
        <div id="simulation" class="tab-content active">
            <div class="sim-container">
                <div class="sim-panel">
                    <h3>âš™ï¸ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼è¨­å®š</h3>
                    <div class="model-note">
                        <strong>ãƒ¢ãƒ‡ãƒ«ã‚±ãƒ¼ã‚¹</strong><br>
                        ãƒ»æœˆå•†: 1,000ä¸‡å††<br>
                        ãƒ»æä¾›é¡: 1,000ä¸‡å††å›ºå®š
                    </div>
                    <div class="input-group">
                        <label>RBFæ‰‹æ•°æ–™ç‡ï¼ˆ%ï¼‰</label>
                        <input type="number" id="simRbfRate" value="10" step="0.5" onchange="updateSimulation()">
                        <input type="range" min="8" max="12" value="10" step="0.5" id="simRbfRateRange" oninput="syncRbfRate(this.value)">
                        <div class="range-labels"><span>8%</span><span>12%</span></div>
                    </div>
                    <div class="input-group">
                        <label>RBFå¹´é–“åˆ©ç”¨å›æ•°</label>
                        <input type="number" id="simRbfFreq" value="1" min="1" max="6" onchange="updateSimulation()">
                        <input type="range" min="1" max="6" value="1" step="1" id="simRbfFreqRange" oninput="document.getElementById('simRbfFreq').value = this.value; updateSimulation();">
                        <div class="range-labels"><span>å¹´1å›</span><span>å¹´6å›</span></div>
                    </div>
                    <div class="input-group">
                        <label>RBFå›åæœŸé–“ï¼ˆãƒ¶æœˆï¼‰</label>
                        <input type="number" id="simPeriod" value="6" onchange="updateSimulation()">
                        <input type="range" min="3" max="12" value="6" id="simPeriodRange" oninput="syncPeriod(this.value)">
                        <div class="range-labels"><span>3ãƒ¶æœˆ</span><span>12ãƒ¶æœˆ</span></div>
                    </div>
                    <div class="input-group">
                        <label>æ—©æœŸæ‰•ã„ ä¸Šä¹—ã›æ‰‹æ•°æ–™ï¼ˆ%ï¼‰</label>
                        <input type="number" id="simEarlyCard" value="0.5" step="0.1" min="0.5" max="2" onchange="updateSimulation()">
                        <input type="range" min="0.5" max="2" value="0.5" step="0.1" id="simEarlyCardRange" oninput="document.getElementById('simEarlyCard').value = this.value; updateSimulation();">
                        <div class="range-labels"><span>0.5%</span><span>2.0%</span></div>
                    </div>
                    <div class="input-group">
                        <label>ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ‰‹æ•°æ–™ç‡ï¼ˆ%ï¼‰</label>
                        <input type="number" id="simFactRate" value="10" step="0.5" onchange="updateSimulation()">
                        <input type="range" min="2" max="20" value="10" step="0.5" id="simFactRateRange" oninput="syncFactRate(this.value)">
                        <div class="range-labels"><span>2%</span><span>20%</span></div>
                    </div>
                    <div class="input-group">
                        <label>ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å›åã‚µã‚¤ãƒˆï¼ˆæœˆï¼‰</label>
                        <input type="number" id="simFactSite" value="2" min="1" max="6" onchange="updateSimulation()">
                        <input type="range" min="1" max="6" value="2" step="1" id="simFactSiteRange" oninput="document.getElementById('simFactSite').value = this.value; updateSimulation();">
                        <div class="range-labels"><span>1ãƒ¶æœˆ</span><span>6ãƒ¶æœˆ</span></div>
                    </div>
                </div>
                
                <div class="sim-results">
                    <div class="result-cards-grid">
                        <!-- RBF Card -->
                        <div class="result-card rbf-card">
                            <div class="card-badge rbf-badge">ğŸ“ˆ RBF</div>
                            <div class="param-section">
                                <div class="param-row">
                                    <span class="param-label">æ‰‹æ•°æ–™ç‡</span>
                                    <span class="param-value" id="rbfRateDisplay">10%</span>
                                </div>
                                <div class="param-row">
                                    <span class="param-label">å›åæœŸé–“</span>
                                    <span class="param-value" id="rbfPeriodDisplay">6ãƒ¶æœˆ</span>
                                </div>
                                <div class="param-row">
                                    <span class="param-label">å¹´é–“åˆ©ç”¨</span>
                                    <span class="param-value" id="rbfFreqDisplay">1å›</span>
                                </div>
                            </div>
                            <div class="result-main">
                                <div class="result-amount" id="rbfTotalCost">Â¥1,000,000 /å¹´</div>
                                <div class="result-detail">å¹´é–“æ‰‹æ•°æ–™åå…¥</div>
                            </div>
                            <div class="result-breakdown">
                                <div class="breakdown-row"><span class="label">æä¾›é¡</span><span id="rbfPrincipal">Â¥10,000,000</span></div>
                                <div class="breakdown-row"><span class="label">æ‰‹æ•°æ–™/å›</span><span id="rbfFee">Â¥1,000,000</span></div>
                                <div class="breakdown-row highlight"><span class="label">å¹´æ›ç®—åˆ©å›ã‚Š</span><span id="rbfApr">-</span></div>
                            </div>
                        </div>
                        
                        <!-- æ—©æœŸæ‰•ã„ Card -->
                        <div class="result-card early-card">
                            <div class="card-badge early-badge">âš¡ æ—©æœŸæ‰•ã„</div>
                            <div class="param-section">
                                <div class="param-row">
                                    <span class="param-label">ä¸Šä¹—ã›ç‡</span>
                                    <span class="param-value" id="earlyRateDisplay">0.5%</span>
                                </div>
                                <div class="param-row">
                                    <span class="param-label">æ”¯æ‰•ã‚µã‚¤ãƒˆ</span>
                                    <span class="param-value">0æ—¥ï¼ˆå³æ—¥ï¼‰</span>
                                </div>
                                <div class="param-row">
                                    <span class="param-label">å›å</span>
                                    <span class="param-value">ç¿Œæœˆã‚«ãƒ¼ãƒ‰ç²¾ç®—</span>
                                </div>
                            </div>
                            <div class="result-main">
                                <div class="result-amount" id="earlyTotalCost">Â¥600,000 /å¹´</div>
                                <div class="result-detail">å¹´é–“æ‰‹æ•°æ–™åå…¥</div>
                            </div>
                            <div class="result-breakdown">
                                <div class="breakdown-row"><span class="label">æœˆå•†</span><span id="earlyMonthlySales">Â¥10,000,000</span></div>
                                <div class="breakdown-row"><span class="label">æœˆæ¬¡æ‰‹æ•°æ–™</span><span id="earlyMonthlyFee">Â¥50,000</span></div>
                                <div class="breakdown-row highlight"><span class="label">å¹´æ›ç®—åˆ©å›ã‚Š</span><span id="earlyApr">-</span></div>
                            </div>
                        </div>
                        
                        <!-- ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° Card -->
                        <div class="result-card factoring-card">
                            <div class="card-badge factoring-badge">ğŸ¦ ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</div>
                            <div class="param-section">
                                <div class="param-row">
                                    <span class="param-label">æ‰‹æ•°æ–™ç‡</span>
                                    <span class="param-value" id="factRateDisplay">10%</span>
                                </div>
                                <div class="param-row">
                                    <span class="param-label">å›åã‚µã‚¤ãƒˆ</span>
                                    <span class="param-value" id="factSiteDisplay">2ãƒ¶æœˆ</span>
                                </div>
                                <div class="param-row">
                                    <span class="param-label">åˆ©ç”¨</span>
                                    <span class="param-value">å˜ç™º</span>
                                </div>
                            </div>
                            <div class="result-main">
                                <div class="result-amount" id="factTotalCost">Â¥1,000,000</div>
                                <div class="result-detail">æ‰‹æ•°æ–™åå…¥ï¼ˆå˜ç™ºï¼‰</div>
                            </div>
                            <div class="result-breakdown">
                                <div class="breakdown-row"><span class="label">è²·å–é¡</span><span id="factPrincipal">Â¥10,000,000</span></div>
                                <div class="breakdown-row"><span class="label">æ”¯æ‰•é¡</span><span id="factReceive">Â¥9,000,000</span></div>
                                <div class="breakdown-row highlight"><span class="label">å¹´æ›ç®—åˆ©å›ã‚Š</span><span id="factApr">-</span></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sim-charts">
                        <div class="sim-chart-card">
                            <h4>ğŸ’° å¹´é–“æ‰‹æ•°æ–™åå…¥æ¯”è¼ƒ</h4>
                            <div class="chart-wrapper"><canvas id="costCompareChart"></canvas></div>
                        </div>
                        <div class="sim-chart-card">
                            <h4>ğŸ“ˆ è²¸ä¸»åˆ©å›ã‚Šæ¯”è¼ƒ</h4>
                            <div class="chart-wrapper"><canvas id="efficiencyRateChart"></canvas></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Timeline Tab -->
        <div id="timeline" class="tab-content">
            <div class="summary-grid">
                <div class="summary-card rbf">
                    <h4><span style="color: #3b82f6;">â—</span> RBF</h4>
                    <div class="summary-value" id="summaryRbfPeriod">6ãƒ¶æœˆ</div>
                    <div class="summary-sub">å›åæœŸé–“</div>
                </div>
                <div class="summary-card early">
                    <h4><span style="color: #10b981;">â—</span> æ—©æœŸæ‰•ã„</h4>
                    <div class="summary-value">å³æ—¥æ‰•ã„</div>
                    <div class="summary-sub">0ã‚µã‚¤ãƒˆâ†’ç¿Œæœˆå›å</div>
                </div>
                <div class="summary-card factoring">
                    <h4><span style="color: #f59e0b;">â—</span> ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</h4>
                    <div class="summary-value" id="summaryFactPeriod">2ãƒ¶æœˆ</div>
                    <div class="summary-sub">å›åã‚µã‚¤ãƒˆ</div>
                </div>
            </div>
            
            <div class=\"timeline-container\">
                <div class="timeline-title">ğŸ“Š æœˆåˆ¥å›åã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</div>
                <div class="timeline-header" id="timelineHeader"></div>
                <div class="timeline-row" id="timelineRbf"></div>
                <div class="timeline-row" id="timelineEarly"></div>
                <div class="timeline-row" id="timelineFact"></div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-card">
                    <h3>ğŸ“‰ æœªå›åæ®‹é«˜æ¨ç§»</h3>
                    <div class="chart-wrapper"><canvas id="balanceChart"></canvas></div>
                </div>
                <div class="chart-card">
                    <h3>ğŸ’µ æœˆæ¬¡å›åé¡</h3>
                    <div class="chart-wrapper"><canvas id="monthlyPaymentChart"></canvas></div>
                </div>
            </div>
        </div>
        
        <div class="footer">Â© 2024 ROBOT PAYMENT Inc. | è³‡é‡‘èª¿é”ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¯”è¼ƒï¼ˆè²¸ä¸»è¦–ç‚¹ï¼‰</div>
    </div>
    
    <script>
        const AMOUNT = 10000000;
        
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.closest('.tab-btn').classList.add('active');
            setTimeout(initCharts, 100);
        }
        
        function syncRbfRate(val) { document.getElementById('simRbfRate').value = val; updateSimulation(); }
        function syncFactRate(val) { document.getElementById('simFactRate').value = val; updateSimulation(); }
        function syncPeriod(val) { document.getElementById('simPeriod').value = val; updateSimulation(); }
        
        let charts = {};
        
        function renderTimeline({ periodMonths, factSiteMonths, rbfPayments }) {
            const header = document.getElementById('timelineHeader');
            const rbfRow = document.getElementById('timelineRbf');
            const earlyRow = document.getElementById('timelineEarly');
            const factRow = document.getElementById('timelineFact');
            if (!header) return;
            
            const monthsCount = Math.max(periodMonths, 2, factSiteMonths);
            const months = Array.from({ length: monthsCount }, (_, i) => `${i + 1}ãƒ¶æœˆç›®`);
            const grid = `180px repeat(${monthsCount}, 1fr)`;
            
            [header, rbfRow, earlyRow, factRow].forEach(el => el.style.gridTemplateColumns = grid);
            
            header.innerHTML = `<div class="month" style="background:#fff;font-weight:700;color:#0f172a;">å•†å“</div>${months.map(m => `<div class="month">${m}</div>`).join('')}`;
            
            const fmt = val => 'Â¥' + Math.round(val / 10000) + 'ä¸‡';
            
            rbfRow.innerHTML = `<div class="timeline-label rbf"><span class="dot"></span>RBF</div>` +
                months.map((_, i) => {
                    if (i === 0) return `<div class="timeline-cell"><div class="timeline-bar rbf-bar">æä¾›<br>${fmt(AMOUNT)}</div></div>`;
                    if (i < periodMonths) return `<div class="timeline-cell"><div class="timeline-bar rbf-bar">å›å<br>${fmt(rbfPayments[i])}</div></div>`;
                    return `<div class="timeline-cell"><div class="timeline-bar empty">å®Œäº†</div></div>`;
                }).join('');
            
            earlyRow.innerHTML = `<div class="timeline-label early"><span class="dot"></span>æ—©æœŸæ‰•ã„</div>` +
                months.map((_, i) => {
                    if (i === 0) return `<div class="timeline-cell"><div class="timeline-bar early-bar">å³æ—¥æ‰•ã„<br>${fmt(AMOUNT)}</div></div>`;
                    if (i === 1) return `<div class="timeline-cell"><div class="timeline-bar early-bar">ã‚«ãƒ¼ãƒ‰å›å<br>${fmt(AMOUNT)}</div></div>`;
                    return `<div class="timeline-cell"><div class="timeline-bar empty">-</div></div>`;
                }).join('');
            
            factRow.innerHTML = `<div class="timeline-label factoring"><span class="dot"></span>ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</div>` +
                months.map((_, i) => {
                    if (i === 0) return `<div class="timeline-cell"><div class="timeline-bar factoring-bar">æ”¯æ‰•<br>${fmt(AMOUNT * 0.9)}</div></div>`;
                    if (i === factSiteMonths - 1) return `<div class="timeline-cell"><div class="timeline-bar factoring-bar">å›å<br>${fmt(AMOUNT)}</div></div>`;
                    if (i < factSiteMonths) return `<div class="timeline-cell"><div class="timeline-bar empty">å¾…æ©Ÿ</div></div>`;
                    return `<div class="timeline-cell"><div class="timeline-bar empty">å®Œäº†</div></div>`;
                }).join('');
            
            document.getElementById('summaryRbfPeriod').textContent = periodMonths + 'ãƒ¶æœˆ';
            document.getElementById('summaryFactPeriod').textContent = factSiteMonths + 'ãƒ¶æœˆ';
        }
        
        function initCharts() {
            const feeCtx = document.getElementById('feeComparisonChart');
            if (feeCtx && !charts.fee) {
                charts.fee = new Chart(feeCtx, {
                    type: 'bar',
                    data: {
                        labels: ['RBF', 'æ—©æœŸæ‰•ã„', 'ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°'],
                        datasets: [
                            { label: 'æœ€ä½', data: [8, 0.5, 2], backgroundColor: ['#3b82f6', '#10b981', '#f59e0b'], borderRadius: 8 },
                            { label: 'æœ€é«˜', data: [12, 2, 18], backgroundColor: ['rgba(59,130,246,0.4)', 'rgba(16,185,129,0.4)', 'rgba(245,158,11,0.4)'], borderRadius: 8 }
                        ]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { position: 'top', labels: { color: '#64748b' } } },
                        scales: {
                            x: { grid: { display: false }, ticks: { color: '#0f172a' } },
                            y: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#64748b', callback: v => v + '%' } }
                        }
                    }
                });
            }
            
            const periodCtx = document.getElementById('periodChart');
            if (periodCtx && !charts.period) {
                charts.period = new Chart(periodCtx, {
                    type: 'bar',
                    data: {
                        labels: ['RBF', 'æ—©æœŸæ‰•ã„', 'ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°'],
                        datasets: [{ label: 'å›åæœŸé–“ï¼ˆæœˆï¼‰', data: [6, 1, 2], backgroundColor: ['#3b82f6', '#10b981', '#f59e0b'], borderRadius: 8 }]
                    },
                    options: {
                        indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#64748b' } },
                            y: { grid: { display: false }, ticks: { color: '#0f172a' } }
                        }
                    }
                });
            }
            
            updateSimulation();
        }
        
        function updateSimulation() {
            const rbfRate = parseFloat(document.getElementById('simRbfRate').value);
            const rbfFreq = parseInt(document.getElementById('simRbfFreq').value);
            const period = parseInt(document.getElementById('simPeriod').value);
            const earlyCard = parseFloat(document.getElementById('simEarlyCard').value);
            const factRate = parseFloat(document.getElementById('simFactRate').value);
            const factSite = parseInt(document.getElementById('simFactSite').value);
            
            document.getElementById('simRbfFreqRange').value = rbfFreq;
            document.getElementById('simEarlyCardRange').value = earlyCard;
            document.getElementById('simFactSiteRange').value = factSite;
            
            const rbfFee = AMOUNT * (rbfRate / 100);
            const rbfAnnual = rbfFee * rbfFreq;
            const rbfTotal = AMOUNT + rbfFee;
            const rbfPayments = Array(period).fill(rbfTotal / period);
            
            const earlyMonthly = AMOUNT * (earlyCard / 100);
            const earlyAnnual = earlyMonthly * 12;
            
            const factFee = AMOUNT * (factRate / 100);
            const factCash = AMOUNT - factFee;
            
            const irr = (flows, ppy = 12) => {
                const npv = r => flows.reduce((a, c, i) => a + c / Math.pow(1 + r, i), 0);
                let lo = -0.99, hi = 10, mid;
                for (let i = 0; i < 100; i++) {
                    mid = (lo + hi) / 2;
                    if (Math.abs(npv(mid)) < 1e-7) break;
                    npv(mid) * npv(lo) > 0 ? lo = mid : hi = mid;
                }
                return isFinite(mid) ? (Math.pow(1 + mid, ppy) - 1) * 100 : null;
            };
            
            const lenderRbfIrr = irr([-AMOUNT, ...rbfPayments]);
            const lenderEarlyIrr = irr([-AMOUNT, AMOUNT + earlyMonthly]);
            const lenderFactIrr = irr([-factCash, ...Array(factSite - 1).fill(0), AMOUNT]);
            
            const fmt = v => isFinite(v) ? v.toFixed(1).replace(/\.0$/, '') + '%' : '-';
            
            // RBF ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼†çµæœ
            document.getElementById('rbfRateDisplay').textContent = rbfRate + '%';
            document.getElementById('rbfPeriodDisplay').textContent = period + 'ãƒ¶æœˆ';
            document.getElementById('rbfFreqDisplay').textContent = rbfFreq + 'å›';
            document.getElementById('rbfTotalCost').textContent = 'Â¥' + rbfAnnual.toLocaleString() + ' /å¹´';
            document.getElementById('rbfPrincipal').textContent = 'Â¥' + AMOUNT.toLocaleString();
            document.getElementById('rbfFee').textContent = 'Â¥' + rbfFee.toLocaleString();
            document.getElementById('rbfApr').textContent = fmt(lenderRbfIrr);
            
            // æ—©æœŸæ‰•ã„ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼†çµæœ
            document.getElementById('earlyRateDisplay').textContent = earlyCard + '%';
            document.getElementById('earlyTotalCost').textContent = 'Â¥' + Math.round(earlyAnnual).toLocaleString() + ' /å¹´';
            document.getElementById('earlyMonthlySales').textContent = 'Â¥' + AMOUNT.toLocaleString();
            document.getElementById('earlyMonthlyFee').textContent = 'Â¥' + Math.round(earlyMonthly).toLocaleString();
            document.getElementById('earlyApr').textContent = fmt(lenderEarlyIrr);
            
            // ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼†çµæœ
            document.getElementById('factRateDisplay').textContent = factRate + '%';
            document.getElementById('factSiteDisplay').textContent = factSite + 'ãƒ¶æœˆ';
            document.getElementById('factTotalCost').textContent = 'Â¥' + factFee.toLocaleString();
            document.getElementById('factPrincipal').textContent = 'Â¥' + AMOUNT.toLocaleString();
            document.getElementById('factReceive').textContent = 'Â¥' + factCash.toLocaleString();
            document.getElementById('factApr').textContent = fmt(lenderFactIrr);
            
            renderTimeline({ periodMonths: period, factSiteMonths: factSite, rbfPayments });
            
            // Best badge
            document.querySelectorAll('.result-card').forEach(c => c.classList.remove('best'));
            const costs = [
                { sel: '.rbf-card', val: rbfAnnual },
                { sel: '.early-card', val: earlyAnnual },
                { sel: '.factoring-card', val: factFee }
            ].sort((a, b) => b.val - a.val);
            document.querySelector(costs[0].sel)?.classList.add('best');
            
            // Charts
            const costCtx = document.getElementById('costCompareChart');
            if (costCtx) {
                if (charts.cost) charts.cost.destroy();
                charts.cost = new Chart(costCtx, {
                    type: 'bar',
                    data: {
                        labels: ['RBF', 'æ—©æœŸæ‰•ã„', 'ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°'],
                        datasets: [{ label: 'æ‰‹æ•°æ–™åå…¥', data: [rbfAnnual, earlyAnnual, factFee], backgroundColor: ['#3b82f6', '#10b981', '#f59e0b'], borderRadius: 8 }]
                    },
                    options: {
                        indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            x: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#64748b', callback: v => 'Â¥' + (v / 10000) + 'ä¸‡' } },
                            y: { grid: { display: false }, ticks: { color: '#0f172a' } }
                        }
                    }
                });
            }
            
            const effCtx = document.getElementById('efficiencyRateChart');
            if (effCtx) {
                if (charts.eff) charts.eff.destroy();
                charts.eff = new Chart(effCtx, {
                    type: 'bar',
                    data: {
                        labels: ['RBF', 'æ—©æœŸæ‰•ã„', 'ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°'],
                        datasets: [{ label: 'å¹´ç‡åˆ©å›ã‚Š', data: [lenderRbfIrr ?? 0, lenderEarlyIrr ?? 0, lenderFactIrr ?? 0], backgroundColor: ['#3b82f6', '#10b981', '#f59e0b'], borderRadius: 6 }]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#64748b', callback: v => v + '%' } },
                            x: { grid: { display: false }, ticks: { color: '#0f172a' } }
                        }
                    }
                });
            }
            
            const monthsCount = Math.max(period, 2, factSite);
            const labels = Array.from({ length: monthsCount }, (_, i) => (i + 1) + 'ãƒ¶æœˆ');
            
            const balanceCtx = document.getElementById('balanceChart');
            if (balanceCtx) {
                if (charts.balance) charts.balance.destroy();
                const rbfBal = [], factBal = [];
                let rem = rbfTotal;
                for (let i = 0; i < monthsCount; i++) {
                    if (i < period) rem -= rbfPayments[i];
                    rbfBal.push(Math.max(0, rem));
                    factBal.push(i < factSite ? AMOUNT : 0);
                }
                charts.balance = new Chart(balanceCtx, {
                    type: 'line',
                    data: {
                        labels,
                        datasets: [
                            { label: 'RBF', data: rbfBal, borderColor: '#3b82f6', backgroundColor: 'rgba(59,130,246,0.1)', fill: true, tension: 0.4, borderWidth: 3 },
                            { label: 'ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°', data: factBal, borderColor: '#f59e0b', backgroundColor: 'rgba(245,158,11,0.1)', fill: true, tension: 0.4, borderWidth: 3 }
                        ]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { position: 'top', labels: { color: '#64748b' } } },
                        scales: {
                            x: { grid: { display: false }, ticks: { color: '#64748b' } },
                            y: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#64748b', callback: v => 'Â¥' + (v / 10000) + 'ä¸‡' } }
                        }
                    }
                });
            }
            
            const monthlyCtx = document.getElementById('monthlyPaymentChart');
            if (monthlyCtx) {
                if (charts.monthly) charts.monthly.destroy();
                const rbfM = Array.from({ length: monthsCount }, (_, i) => i < period ? rbfPayments[i] : 0);
                const factM = Array.from({ length: monthsCount }, (_, i) => i === factSite - 1 ? AMOUNT : 0);
                charts.monthly = new Chart(monthlyCtx, {
                    type: 'bar',
                    data: {
                        labels,
                        datasets: [
                            { label: 'RBF', data: rbfM, backgroundColor: '#3b82f6', borderRadius: 4 },
                            { label: 'ãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°', data: factM, backgroundColor: '#f59e0b', borderRadius: 4 }
                        ]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { position: 'top', labels: { color: '#64748b' } } },
                        scales: {
                            x: { grid: { display: false }, ticks: { color: '#64748b' } },
                            y: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#64748b', callback: v => 'Â¥' + (v / 10000) + 'ä¸‡' } }
                        }
                    }
                });
            }
        }
        
        document.addEventListener('DOMContentLoaded', initCharts);
    </script>
</body>
</html>
